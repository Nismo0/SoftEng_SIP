
****************************************************
Request INVITE received:
INVITE sip:callee@192.168.0.100:4000 SIP/2.0
Call-ID: f9f2542e116082dcfbd42d33ae559943@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK12fa3f8b06d1c0c3a6fd23dff6b47c11
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22225 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22223 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@8c6c29cc
dialog =  gov.nist.javax.sip.stack.SIPDialog@419bdd
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.0.100:19098 SIP/2.0
Call-ID: f9f2542e116082dcfbd42d33ae559943@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKd547cfb447927c2e2a9721053498944a,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK12fa3f8b06d1c0c3a6fd23dff6b47c11
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22225 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22223 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.0.100 port:19098 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.0.100:19098 SIP/2.0
Call-ID: f9f2542e116082dcfbd42d33ae559943@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKaedb9c6fcc59977fa68d9f9cb8e80e1a,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK12fa3f8b06d1c0c3a6fd23dff6b47c11
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22225 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22223 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: f9f2542e116082dcfbd42d33ae559943@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKaedb9c6fcc59977fa68d9f9cb8e80e1a,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK12fa3f8b06d1c0c3a6fd23dff6b47c11
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9afae912
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bf3045
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: f9f2542e116082dcfbd42d33ae559943@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK12fa3f8b06d1c0c3a6fd23dff6b47c11
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: f9f2542e116082dcfbd42d33ae559943@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKaedb9c6fcc59977fa68d9f9cb8e80e1a,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK12fa3f8b06d1c0c3a6fd23dff6b47c11
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.0.100:19098;transport=udp>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9afae912
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bf3045
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:8066491
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: f9f2542e116082dcfbd42d33ae559943@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK12fa3f8b06d1c0c3a6fd23dff6b47c11
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Type: application/sdp
Contact: "jmaria" <sip:192.168.0.100:19098;transport=udp>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


****************************************************
Request ACK received:
ACK sip:192.168.0.100:4000;transport=udp SIP/2.0
Call-ID: f9f2542e116082dcfbd42d33ae559943@192.168.0.100
CSeq: 1 ACK
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=322e3136382e302e3130303a3530363
Max-Forwards: 70
Route: "jmaria" <sip:192.168.0.100:19098;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@3b28b031
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@419bdd
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@3b28b031
dialog =  gov.nist.javax.sip.stack.SIPDialog@419bdd
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1b0b65
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@8c6c29cc
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@419bdd
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@9afae912, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.0.100:19098 SIP/2.0
Call-ID: f9f2542e116082dcfbd42d33ae559943@192.168.0.100
CSeq: 1 ACK
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK7522730ea77914d668bb3326d9f76d36,SIP/2.0/UDP 192.168.0.100:5060;branch=322e3136382e302e3130303a3530363
Max-Forwards: 69
Route: "jmaria" <sip:192.168.0.100:19098;transport=udp>
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.0.100:4000;transport=udp SIP/2.0
Call-ID: f9f2542e116082dcfbd42d33ae559943@192.168.0.100
CSeq: 1 BYE
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
From: <sip:callee@192.168.0.100:4000>;tag=8066491
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.0.100:19098;branch=z9hG4bK2a3665f340be1b04927ef66edf2c3ce8
Route: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@fec1a64d
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@bf3045
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
ProxyRouter: request:
BYE sip:192.168.0.100:4000;transport=udp SIP/2.0
Call-ID: f9f2542e116082dcfbd42d33ae559943@192.168.0.100
CSeq: 1 BYE
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
From: <sip:callee@192.168.0.100:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.0.100:4000,SIP/2.0/UDP 192.168.0.100:19098;branch=z9hG4bK2a3665f340be1b04927ef66edf2c3ce8
Route: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.0.100:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: f9f2542e116082dcfbd42d33ae559943@192.168.0.100
CSeq: 1 BYE
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
From: <sip:callee@192.168.0.100:4000>;tag=8066491
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK778e94529bf47e21076bb1765530fec5,SIP/2.0/UDP 192.168.0.100:19098;branch=z9hG4bK2a3665f340be1b04927ef66edf2c3ce8
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@bc2e5577
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@419bdd
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: f9f2542e116082dcfbd42d33ae559943@192.168.0.100
CSeq: 1 BYE
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
From: <sip:callee@192.168.0.100:4000>;tag=8066491
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.0.100:19098;branch=z9hG4bK2a3665f340be1b04927ef66edf2c3ce8
Content-Length: 0


DEBUG properties set!
The proxy is responsible for the domain:192.168.0.100
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.0.100
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: a6ba8765f0017fc49cc207181260cfb1@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK644f360fc900d13c7fd8c3c7deb5e82e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a6ba8765f0017fc49cc207181260cfb1@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK644f360fc900d13c7fd8c3c7deb5e82e
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: a6ba8765f0017fc49cc207181260cfb1@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK644f360fc900d13c7fd8c3c7deb5e82e
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 4145d9acd83a78fdb1f306f330ee9f67@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:26239;branch=z9hG4bKe72e52026e8bd2e763ab11154c080788
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:26239;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:26239 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:26239;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4145d9acd83a78fdb1f306f330ee9f67@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:26239;branch=z9hG4bKe72e52026e8bd2e763ab11154c080788
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:26239;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 4145d9acd83a78fdb1f306f330ee9f67@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:26239;branch=z9hG4bKe72e52026e8bd2e763ab11154c080788
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:26239;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000

****************************************************
Request INVITE received:
INVITE sip:callee@192.168.0.100:4000 SIP/2.0
Call-ID: 575ee61447337f713e9ff0f02fb2c356@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKd9be89887e26b23a3ac0261c9572ea3c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 575ee61447337f713e9ff0f02fb2c356@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKd9be89887e26b23a3ac0261c9572ea3c
Max-Forwards: 70
Content-Length: 0



*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.0.100
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.0.100
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: ea6cbacc3e1965e32cb05e3ca8600c6c@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKa6f8b1909596319acfc41dd9f9344104
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ea6cbacc3e1965e32cb05e3ca8600c6c@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKa6f8b1909596319acfc41dd9f9344104
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: ea6cbacc3e1965e32cb05e3ca8600c6c@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKa6f8b1909596319acfc41dd9f9344104
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: b250090429745fdecd9f76941eeb13a6@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:21138;branch=z9hG4bK0383c9f91c0be699bd9f9eb417c145e7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:21138;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:21138 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:21138;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b250090429745fdecd9f76941eeb13a6@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:21138;branch=z9hG4bK0383c9f91c0be699bd9f9eb417c145e7
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:21138;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: b250090429745fdecd9f76941eeb13a6@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:21138;branch=z9hG4bK0383c9f91c0be699bd9f9eb417c145e7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:21138;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000

****************************************************
Request INVITE received:
INVITE sip:callee@192.168.0.100:4000 SIP/2.0
Call-ID: 42662000dc0e70131b63c49a3bef39d7@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKfacc83aab835c28d74b9b7fbae1b5299
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), internal error, exception raised:
Proxy, processRequest(), 500 SERVER_INTERNAL_ERROR replied:
SIP/2.0 500 Server Internal Error
Call-ID: 42662000dc0e70131b63c49a3bef39d7@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKfacc83aab835c28d74b9b7fbae1b5299
Max-Forwards: 70
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.0.100
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.0.100
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: fdeb88e7d6b0bd6eb6b0dbe4d00cf930@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK4abe8a461ffd157e75bd3cad3daa4a78
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: fdeb88e7d6b0bd6eb6b0dbe4d00cf930@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK4abe8a461ffd157e75bd3cad3daa4a78
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: fdeb88e7d6b0bd6eb6b0dbe4d00cf930@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK4abe8a461ffd157e75bd3cad3daa4a78
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 36def825299a4c49618b4a622a7d640b@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:7492;branch=z9hG4bK46596b1054427d538da62e389a01ec52
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:7492;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:7492 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:7492;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 36def825299a4c49618b4a622a7d640b@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:7492;branch=z9hG4bK46596b1054427d538da62e389a01ec52
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:7492;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 36def825299a4c49618b4a622a7d640b@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:7492;branch=z9hG4bK46596b1054427d538da62e389a01ec52
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:7492;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000

****************************************************
Request INVITE received:
INVITE sip:callee@192.168.0.100:4000 SIP/2.0
Call-ID: 34692b4c5b9b2c1a671b73b6e32ecf0b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK2247aaa6bbcecde2d8d8ce36835c6787
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@e84ed6fd
dialog =  gov.nist.javax.sip.stack.SIPDialog@1532689
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.0.100:7492 SIP/2.0
Call-ID: 34692b4c5b9b2c1a671b73b6e32ecf0b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKac62de3c13163845b9cacc1ced6d4e5f,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK2247aaa6bbcecde2d8d8ce36835c6787
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.0.100 port:7492 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.0.100:7492 SIP/2.0
Call-ID: 34692b4c5b9b2c1a671b73b6e32ecf0b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK4be6c4c841367abddeaca3ff6bb815fb,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK2247aaa6bbcecde2d8d8ce36835c6787
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 34692b4c5b9b2c1a671b73b6e32ecf0b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK4be6c4c841367abddeaca3ff6bb815fb,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK2247aaa6bbcecde2d8d8ce36835c6787
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a68fc927
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1db3c49
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 34692b4c5b9b2c1a671b73b6e32ecf0b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK4be6c4c841367abddeaca3ff6bb815fb,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK2247aaa6bbcecde2d8d8ce36835c6787
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a68fc927
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1db3c49
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 34692b4c5b9b2c1a671b73b6e32ecf0b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK2247aaa6bbcecde2d8d8ce36835c6787
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 34692b4c5b9b2c1a671b73b6e32ecf0b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK4be6c4c841367abddeaca3ff6bb815fb,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK2247aaa6bbcecde2d8d8ce36835c6787
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a68fc927
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1db3c49
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:8066491
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 34692b4c5b9b2c1a671b73b6e32ecf0b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK2247aaa6bbcecde2d8d8ce36835c6787
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: fdeb88e7d6b0bd6eb6b0dbe4d00cf930@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKf07e079d281284f208a2af72505eef6a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:caller@192.168.0.100:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:caller@192.168.0.100:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.0.100:5060 has been removed for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:7492;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:caller@192.168.0.100:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:7492;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:7492;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: fdeb88e7d6b0bd6eb6b0dbe4d00cf930@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKf07e079d281284f208a2af72505eef6a
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: fdeb88e7d6b0bd6eb6b0dbe4d00cf930@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKf07e079d281284f208a2af72505eef6a
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 36def825299a4c49618b4a622a7d640b@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:7492;branch=z9hG4bK9039c5c7d973e2cf455840b1a767bc71
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:7492;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:callee@192.168.0.100:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:callee@192.168.0.100:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.0.100:7492 has been removed for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:callee@192.168.0.100:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 36def825299a4c49618b4a622a7d640b@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:7492;branch=z9hG4bK9039c5c7d973e2cf455840b1a767bc71
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 36def825299a4c49618b4a622a7d640b@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:7492;branch=z9hG4bK9039c5c7d973e2cf455840b1a767bc71
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:7492;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.0.100
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.0.100
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 4502a90acef75429bb527a9c45f19195@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK10f55fa0e453bac5c8d9372273666e4a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4502a90acef75429bb527a9c45f19195@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK10f55fa0e453bac5c8d9372273666e4a
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 4502a90acef75429bb527a9c45f19195@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK10f55fa0e453bac5c8d9372273666e4a
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: f1f9b922b60c0faaf7f1cb7a7bee41e8@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:34337;branch=z9hG4bK4e4a3e43c59538b70c9e98c20e07790b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:34337 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f1f9b922b60c0faaf7f1cb7a7bee41e8@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:34337;branch=z9hG4bK4e4a3e43c59538b70c9e98c20e07790b
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: f1f9b922b60c0faaf7f1cb7a7bee41e8@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:34337;branch=z9hG4bK4e4a3e43c59538b70c9e98c20e07790b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000

****************************************************
Request INVITE received:
INVITE sip:callee@192.168.0.100:4000 SIP/2.0
Call-ID: 8bb9c3826512bcf7dd2a556b4187bebb@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK5a98646262de13cde7b9d0f3a09cfcfd
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 8bb9c3826512bcf7dd2a556b4187bebb@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK5a98646262de13cde7b9d0f3a09cfcfd
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:callee@192.168.0.100:4000 SIP/2.0
Call-ID: c4caf5a4d7fe8a0f3105c30f183f5b16@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK94f6b671492391d6b3b8b8f98711e304
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: c4caf5a4d7fe8a0f3105c30f183f5b16@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK94f6b671492391d6b3b8b8f98711e304
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 828fd0ee269524f53f9e3c5d0cc7a13e@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee2@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee2@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:27769;branch=z9hG4bK5ec1a51297a73b6f85850845a93aa93c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:27769;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee2@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee2@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:27769 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:callee2@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee2@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:27769;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 828fd0ee269524f53f9e3c5d0cc7a13e@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee2@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee2@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:27769;branch=z9hG4bK5ec1a51297a73b6f85850845a93aa93c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:27769;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 828fd0ee269524f53f9e3c5d0cc7a13e@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee2@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee2@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:27769;branch=z9hG4bK5ec1a51297a73b6f85850845a93aa93c
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:27769;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee2@192.168.0.100:4000

****************************************************
Request INVITE received:
INVITE sip:callee2@192.168.0.100:4000 SIP/2.0
Call-ID: 68acdb038c9f8557876b168e3529e7e7@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee2@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKad6160fe6a0435b18fe521e8b88f906f
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee2@192.168.0.100:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@20d4251
dialog =  gov.nist.javax.sip.stack.SIPDialog@149428a
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.0.100:27769 SIP/2.0
Call-ID: 68acdb038c9f8557876b168e3529e7e7@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee2@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK15be553b071d1c576e407962ee7964fc,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKad6160fe6a0435b18fe521e8b88f906f
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.0.100 port:27769 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.0.100:27769 SIP/2.0
Call-ID: 68acdb038c9f8557876b168e3529e7e7@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee2@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKa21fb73a40bdbc120292c38f728faeed,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKad6160fe6a0435b18fe521e8b88f906f
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 68acdb038c9f8557876b168e3529e7e7@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee2@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKa21fb73a40bdbc120292c38f728faeed,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKad6160fe6a0435b18fe521e8b88f906f
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@5b7586cd
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c61aaa
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 68acdb038c9f8557876b168e3529e7e7@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee2@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKad6160fe6a0435b18fe521e8b88f906f
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 68acdb038c9f8557876b168e3529e7e7@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee2@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKa21fb73a40bdbc120292c38f728faeed,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKad6160fe6a0435b18fe521e8b88f906f
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@5b7586cd
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@c61aaa
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:8066491
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 68acdb038c9f8557876b168e3529e7e7@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee2@192.168.0.100:4000>;tag=8066491
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKad6160fe6a0435b18fe521e8b88f906f
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 828fd0ee269524f53f9e3c5d0cc7a13e@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee2@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee2@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:27769;branch=z9hG4bKd384c3d3c0f6fc1092fed86060cb2c1b
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:27769;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee2@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee2@192.168.0.100:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:callee2@192.168.0.100:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:callee2@192.168.0.100:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.0.100:27769 has been removed for the key: sip:callee2@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee2@192.168.0.100:4000"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:callee2@192.168.0.100:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:callee2@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 828fd0ee269524f53f9e3c5d0cc7a13e@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee2@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee2@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:27769;branch=z9hG4bKd384c3d3c0f6fc1092fed86060cb2c1b
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 828fd0ee269524f53f9e3c5d0cc7a13e@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee2@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee2@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:27769;branch=z9hG4bKd384c3d3c0f6fc1092fed86060cb2c1b
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:27769;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee2@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 0993e35995fd103e7f299329f0d48622@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK9b99ded885f5339238f230bcbbab6dcd
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:caller@192.168.0.100:4000
Contact to add:sip:192.168.0.100:5060 ?
Contact in the list:sip:192.168.0.100:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:192.168.0.100:5060 has been updated for the key: sip:caller@192.168.0.100:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.0.100:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0993e35995fd103e7f299329f0d48622@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK9b99ded885f5339238f230bcbbab6dcd
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 0993e35995fd103e7f299329f0d48622@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK9b99ded885f5339238f230bcbbab6dcd
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 7f32f9d9a2c4a38cd58569485adda9ce@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:34337;branch=z9hG4bK3d38a6f6d5785db268f7cc32eb0eec32
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
RegistrationsTable, removeContact(),  contact removed for the key: sip:callee@192.168.0.100:4000
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.0.100:34337 has been removed for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:callee@192.168.0.100:4000

registered user: "sip:mranga@nist.gov"
Contact to add:sip:192.168.0.100:34337 ?
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.0.100:34337
- contacts: 

RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:34337 , expiresTime:3600
*********  Registration record *****************
registered user: "sip:caller@192.168.0.100:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>;expires=3600

  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 
registered user: "sip:callee@192.168.0.100:4000"
- contacts: 

************************************************
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>;expires=3600


registered user: "sip:deruelle@nist.gov"
ExpiresTask, run(), we  removed the contact: sip:192.168.0.100:34337 for the user: sip:callee@192.168.0.100:4000
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7f32f9d9a2c4a38cd58569485adda9ce@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:34337;branch=z9hG4bK3d38a6f6d5785db268f7cc32eb0eec32
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 7f32f9d9a2c4a38cd58569485adda9ce@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:34337;branch=z9hG4bK3d38a6f6d5785db268f7cc32eb0eec32
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:34337;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.0.100
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.0.100
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 5ce05020507a42929359611e1d7c4e33@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKd2e12912469775a4e1f2498cf65ad645
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5ce05020507a42929359611e1d7c4e33@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKd2e12912469775a4e1f2498cf65ad645
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 5ce05020507a42929359611e1d7c4e33@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKd2e12912469775a4e1f2498cf65ad645
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 8f67d2c8f19a2a5f9f8110bfd3858bf5@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:52525;branch=z9hG4bK5af9dec20ef9dfce5705aaffb81a07e8
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:52525;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:52525 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:52525;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 8f67d2c8f19a2a5f9f8110bfd3858bf5@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:52525;branch=z9hG4bK5af9dec20ef9dfce5705aaffb81a07e8
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:52525;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 8f67d2c8f19a2a5f9f8110bfd3858bf5@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:52525;branch=z9hG4bK5af9dec20ef9dfce5705aaffb81a07e8
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:52525;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000

****************************************************
Request INVITE received:
INVITE sip:callee@192.168.0.100:4000 SIP/2.0
Call-ID: 662027f5c60a993d2118d507cc7fd3ec@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK1dde13c8bd69041ac3aed1316f3e3a70
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 662027f5c60a993d2118d507cc7fd3ec@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK1dde13c8bd69041ac3aed1316f3e3a70
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: c58701dd33011bbedb2972d3c33d58c9@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:8813;branch=z9hG4bK1454f505f1ec3e797ca067468db2de40
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:8813;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:bob@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:bob@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:8813 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:bob@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:52525;transport=udp>;expires=3600

registered user: "sip:bob@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:8813;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c58701dd33011bbedb2972d3c33d58c9@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:8813;branch=z9hG4bK1454f505f1ec3e797ca067468db2de40
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:8813;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: c58701dd33011bbedb2972d3c33d58c9@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:8813;branch=z9hG4bK1454f505f1ec3e797ca067468db2de40
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:8813;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:bob@192.168.0.100:4000

****************************************************
Request INVITE received:
INVITE sip:bob@192.168.0.100:4000 SIP/2.0
Call-ID: 1267dcd1abdb4256350b153829ba9dd6@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK1a0978d5395b724fbf5335b65e96fde3
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:bob@192.168.0.100:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@885e313b
dialog =  gov.nist.javax.sip.stack.SIPDialog@17ab93c
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.0.100:8813 SIP/2.0
Call-ID: 1267dcd1abdb4256350b153829ba9dd6@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKb4dd29f6c37320e0541145c33c025c41,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK1a0978d5395b724fbf5335b65e96fde3
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.0.100 port:8813 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.0.100:8813 SIP/2.0
Call-ID: 1267dcd1abdb4256350b153829ba9dd6@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKad6a7096753b672e11a4e9351cd0c305,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK1a0978d5395b724fbf5335b65e96fde3
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 1267dcd1abdb4256350b153829ba9dd6@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>;tag=14834297
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKad6a7096753b672e11a4e9351cd0c305,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK1a0978d5395b724fbf5335b65e96fde3
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@cf728aa0
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@a3cdb6
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 1267dcd1abdb4256350b153829ba9dd6@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>;tag=14834297
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK1a0978d5395b724fbf5335b65e96fde3
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 1267dcd1abdb4256350b153829ba9dd6@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>;tag=14834297
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKad6a7096753b672e11a4e9351cd0c305,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK1a0978d5395b724fbf5335b65e96fde3
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@cf728aa0
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@a3cdb6
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:14834297
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 1267dcd1abdb4256350b153829ba9dd6@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>;tag=14834297
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK1a0978d5395b724fbf5335b65e96fde3
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.0.100
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.0.100
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 54d8bb7c36c9f74baf97280ed53881f1@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK9e9db04e554973698812ce3e752b73ff
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 54d8bb7c36c9f74baf97280ed53881f1@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK9e9db04e554973698812ce3e752b73ff
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 54d8bb7c36c9f74baf97280ed53881f1@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK9e9db04e554973698812ce3e752b73ff
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 0745237a18049136467dc6f1ff472915@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:13278;branch=z9hG4bK625ebac94b6dd6e3aae7a5691476e785
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:13278;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:13278 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:13278;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0745237a18049136467dc6f1ff472915@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:13278;branch=z9hG4bK625ebac94b6dd6e3aae7a5691476e785
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:13278;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 0745237a18049136467dc6f1ff472915@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:13278;branch=z9hG4bK625ebac94b6dd6e3aae7a5691476e785
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:13278;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000

****************************************************
Request INVITE received:
INVITE sip:callee@192.168.0.100:4000 SIP/2.0
Call-ID: 60b0cd5f381371f23aacd0cedf62079b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKcb6ed6e76b35527f3f54bb445c2dbc6c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@eae347eb
dialog =  gov.nist.javax.sip.stack.SIPDialog@1317040
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.0.100:13278 SIP/2.0
Call-ID: 60b0cd5f381371f23aacd0cedf62079b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKd4f94311f3450de121da827a4833d661,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKcb6ed6e76b35527f3f54bb445c2dbc6c
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.0.100 port:13278 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.0.100:13278 SIP/2.0
Call-ID: 60b0cd5f381371f23aacd0cedf62079b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK675c4c16042eb5e5f4c9ee9d38fe44c7,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKcb6ed6e76b35527f3f54bb445c2dbc6c
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 60b0cd5f381371f23aacd0cedf62079b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>;tag=22074212
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK675c4c16042eb5e5f4c9ee9d38fe44c7,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKcb6ed6e76b35527f3f54bb445c2dbc6c
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7700cae3
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@11e418
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 60b0cd5f381371f23aacd0cedf62079b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>;tag=22074212
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKcb6ed6e76b35527f3f54bb445c2dbc6c
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 60b0cd5f381371f23aacd0cedf62079b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>;tag=22074212
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK675c4c16042eb5e5f4c9ee9d38fe44c7,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKcb6ed6e76b35527f3f54bb445c2dbc6c
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7700cae3
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@11e418
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:22074212
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 60b0cd5f381371f23aacd0cedf62079b@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>;tag=22074212
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKcb6ed6e76b35527f3f54bb445c2dbc6c
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 54d8bb7c36c9f74baf97280ed53881f1@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKd9b477cf3d881e909536d7078d4b2f34
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:caller@192.168.0.100:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:caller@192.168.0.100:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.0.100:5060 has been removed for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:13278;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:caller@192.168.0.100:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:13278;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:13278;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 54d8bb7c36c9f74baf97280ed53881f1@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKd9b477cf3d881e909536d7078d4b2f34
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 54d8bb7c36c9f74baf97280ed53881f1@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKd9b477cf3d881e909536d7078d4b2f34
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 0745237a18049136467dc6f1ff472915@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:13278;branch=z9hG4bKa9ea3d503ade03e23700a50fd4daa754
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:13278;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:callee@192.168.0.100:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:callee@192.168.0.100:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.0.100:13278 has been removed for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:callee@192.168.0.100:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0745237a18049136467dc6f1ff472915@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:13278;branch=z9hG4bKa9ea3d503ade03e23700a50fd4daa754
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 0745237a18049136467dc6f1ff472915@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:13278;branch=z9hG4bKa9ea3d503ade03e23700a50fd4daa754
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:13278;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.0.100
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.0.100
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 7040e9df3e616bfbde229ad561487a41@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK6adeba28fa37cbe6c5ca57b2c8bee853
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7040e9df3e616bfbde229ad561487a41@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK6adeba28fa37cbe6c5ca57b2c8bee853
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 7040e9df3e616bfbde229ad561487a41@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK6adeba28fa37cbe6c5ca57b2c8bee853
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: ebdce8432eb535d081b25c0e14d5233f@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:34250;branch=z9hG4bK2b45440422ad585ca45b59e93ee953e9
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:34250;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:34250 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:34250;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ebdce8432eb535d081b25c0e14d5233f@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:34250;branch=z9hG4bK2b45440422ad585ca45b59e93ee953e9
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:34250;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: ebdce8432eb535d081b25c0e14d5233f@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:34250;branch=z9hG4bK2b45440422ad585ca45b59e93ee953e9
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:34250;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000

****************************************************
Request INVITE received:
INVITE sip:callee@192.168.0.100:4000 SIP/2.0
Call-ID: e9ffff432550ad59071eca8f132aa6f3@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK036f66bf3887ec7177876b1a38a3b05c
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@bbe397e0
dialog =  gov.nist.javax.sip.stack.SIPDialog@182cb09
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.0.100:34250 SIP/2.0
Call-ID: e9ffff432550ad59071eca8f132aa6f3@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKd6348143d5fe216ea5713ad1e1ba8ff2,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK036f66bf3887ec7177876b1a38a3b05c
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.0.100 port:34250 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.0.100:34250 SIP/2.0
Call-ID: e9ffff432550ad59071eca8f132aa6f3@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKeb9aa83153cd8960a30b41ed88ff615d,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK036f66bf3887ec7177876b1a38a3b05c
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: e9ffff432550ad59071eca8f132aa6f3@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>;tag=173249
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKeb9aa83153cd8960a30b41ed88ff615d,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK036f66bf3887ec7177876b1a38a3b05c
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6d7a8ebd
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15691e7
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: e9ffff432550ad59071eca8f132aa6f3@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>;tag=173249
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK036f66bf3887ec7177876b1a38a3b05c
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: e9ffff432550ad59071eca8f132aa6f3@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>;tag=173249
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKeb9aa83153cd8960a30b41ed88ff615d,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK036f66bf3887ec7177876b1a38a3b05c
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6d7a8ebd
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@15691e7
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:173249
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: e9ffff432550ad59071eca8f132aa6f3@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=32342669
To: <sip:callee@192.168.0.100:4000>;tag=173249
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK036f66bf3887ec7177876b1a38a3b05c
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.0.100
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.0.100
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 50c7fa2338a5abe3dfe0581f65fb5272@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK1fbc23b3b679a0db9d513c1b6f9c2afd
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 50c7fa2338a5abe3dfe0581f65fb5272@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK1fbc23b3b679a0db9d513c1b6f9c2afd
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 50c7fa2338a5abe3dfe0581f65fb5272@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK1fbc23b3b679a0db9d513c1b6f9c2afd
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 8234ddfb0cfbd592ee8fb442e48d6d27@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:29610;branch=z9hG4bK748414100a12c1cf1df4b10c3839b848
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:29610;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:29610 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:29610;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 8234ddfb0cfbd592ee8fb442e48d6d27@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:29610;branch=z9hG4bK748414100a12c1cf1df4b10c3839b848
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:29610;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 8234ddfb0cfbd592ee8fb442e48d6d27@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:29610;branch=z9hG4bK748414100a12c1cf1df4b10c3839b848
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:29610;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000

****************************************************
Request INVITE received:
INVITE sip:callee@192.168.0.100:4000 SIP/2.0
Call-ID: b46b9f038d253b5bace913b6280d6def@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK23b477b9feb31f5d848052fe897637e9
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@fe35cd85
dialog =  gov.nist.javax.sip.stack.SIPDialog@1a2905b
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.0.100:29610 SIP/2.0
Call-ID: b46b9f038d253b5bace913b6280d6def@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK3bc367f36206f8be1be8361490aa84f7,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK23b477b9feb31f5d848052fe897637e9
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.0.100 port:29610 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.0.100:29610 SIP/2.0
Call-ID: b46b9f038d253b5bace913b6280d6def@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKfb6d7ecff968372554d3aaeb6949f21f,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK23b477b9feb31f5d848052fe897637e9
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: b46b9f038d253b5bace913b6280d6def@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=671976
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKfb6d7ecff968372554d3aaeb6949f21f,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK23b477b9feb31f5d848052fe897637e9
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@16468f2a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@2d9d48
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: b46b9f038d253b5bace913b6280d6def@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=671976
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK23b477b9feb31f5d848052fe897637e9
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: b46b9f038d253b5bace913b6280d6def@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=671976
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKfb6d7ecff968372554d3aaeb6949f21f,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK23b477b9feb31f5d848052fe897637e9
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@16468f2a
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@2d9d48
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:671976
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: b46b9f038d253b5bace913b6280d6def@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=671976
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK23b477b9feb31f5d848052fe897637e9
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 8234ddfb0cfbd592ee8fb442e48d6d27@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:29610;branch=z9hG4bK92f1e556fa32b6e60b59a5600f13b5d4
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:29610;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:callee@192.168.0.100:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:callee@192.168.0.100:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.0.100:29610 has been removed for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:callee@192.168.0.100:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 8234ddfb0cfbd592ee8fb442e48d6d27@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:29610;branch=z9hG4bK92f1e556fa32b6e60b59a5600f13b5d4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 8234ddfb0cfbd592ee8fb442e48d6d27@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:29610;branch=z9hG4bK92f1e556fa32b6e60b59a5600f13b5d4
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:29610;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 50c7fa2338a5abe3dfe0581f65fb5272@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK11de29c52c0e153d63fe32a5708e19a0
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:caller@192.168.0.100:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:caller@192.168.0.100:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.0.100:5060 has been removed for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:caller@192.168.0.100:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 50c7fa2338a5abe3dfe0581f65fb5272@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK11de29c52c0e153d63fe32a5708e19a0
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 50c7fa2338a5abe3dfe0581f65fb5272@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK11de29c52c0e153d63fe32a5708e19a0
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.0.100
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.0.100
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 07a386dcc1a7bd86ea89ee0aa60ebeb3@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKfe98c4fd8b58d39bb8839ce3898f2779
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 07a386dcc1a7bd86ea89ee0aa60ebeb3@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKfe98c4fd8b58d39bb8839ce3898f2779
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 07a386dcc1a7bd86ea89ee0aa60ebeb3@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKfe98c4fd8b58d39bb8839ce3898f2779
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: aee39247669e77ac4fc174b601f52d60@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:32185;branch=z9hG4bK51513e73ed7d83edda33762027eff497
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:32185;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:32185 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:32185;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: aee39247669e77ac4fc174b601f52d60@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:32185;branch=z9hG4bK51513e73ed7d83edda33762027eff497
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:32185;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: aee39247669e77ac4fc174b601f52d60@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:32185;branch=z9hG4bK51513e73ed7d83edda33762027eff497
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:32185;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000

****************************************************
Request INVITE received:
INVITE sip:callee@192.168.0.100:4000 SIP/2.0
Call-ID: eb5c8362d1f48515be835a9f469f1726@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK973b874b4b318ddc57df611f99a58d2d
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6ae4aef6
dialog =  gov.nist.javax.sip.stack.SIPDialog@963776
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.0.100:32185 SIP/2.0
Call-ID: eb5c8362d1f48515be835a9f469f1726@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK82f14ea6a46512cca5bb0cac7936edf4,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK973b874b4b318ddc57df611f99a58d2d
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.0.100 port:32185 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.0.100:32185 SIP/2.0
Call-ID: eb5c8362d1f48515be835a9f469f1726@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK1d74802cad288d36dbede2c35341414d,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK973b874b4b318ddc57df611f99a58d2d
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: eb5c8362d1f48515be835a9f469f1726@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=10693275
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK1d74802cad288d36dbede2c35341414d,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK973b874b4b318ddc57df611f99a58d2d
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@c838f392
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@147343
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: eb5c8362d1f48515be835a9f469f1726@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=10693275
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK973b874b4b318ddc57df611f99a58d2d
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: eb5c8362d1f48515be835a9f469f1726@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=10693275
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bK1d74802cad288d36dbede2c35341414d,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK973b874b4b318ddc57df611f99a58d2d
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@c838f392
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@147343
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:10693275
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: eb5c8362d1f48515be835a9f469f1726@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>;tag=10693275
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK973b874b4b318ddc57df611f99a58d2d
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.0.100
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.0.100
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************


*****************************************************

---------------------------------------
Parsing the XML configuration file...
The XML configuration file has been successfully parsed!
---------------------------------------
DEBUG, GUI chained to the registrar
DEBUG properties set!
The proxy is responsible for the domain:192.168.0.100
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.0.100
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: de713fb5389d9df387ab3263bd323a4f@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKce252312938e510dc1e08e9ee8ff51ab
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: de713fb5389d9df387ab3263bd323a4f@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKce252312938e510dc1e08e9ee8ff51ab
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: de713fb5389d9df387ab3263bd323a4f@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKce252312938e510dc1e08e9ee8ff51ab
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 9f11e14c6b26998e56e79eb5018a000c@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:16682;branch=z9hG4bK18c74f5e2a06212a5fe3e2f45817483b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:16682;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:16682 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:16682;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9f11e14c6b26998e56e79eb5018a000c@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:16682;branch=z9hG4bK18c74f5e2a06212a5fe3e2f45817483b
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:16682;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 9f11e14c6b26998e56e79eb5018a000c@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:16682;branch=z9hG4bK18c74f5e2a06212a5fe3e2f45817483b
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:16682;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000

****************************************************
Request INVITE received:
INVITE sip:callee@192.168.0.100:4000 SIP/2.0
Call-ID: ec7bd5fdf85e09cb8455d69fca972f26@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK0b12a36b6e9197f0fe4a3873c3082fcf
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: ec7bd5fdf85e09cb8455d69fca972f26@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=18507756
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK0b12a36b6e9197f0fe4a3873c3082fcf
Max-Forwards: 70
Content-Length: 0


DEBUG properties set!
The proxy is responsible for the domain:192.168.0.100
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.0.100
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 7439dd6d8b6baae430e2f4483cb63d7d@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKbf0db004690f0940109ece75b89c2d34
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7439dd6d8b6baae430e2f4483cb63d7d@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKbf0db004690f0940109ece75b89c2d34
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 7439dd6d8b6baae430e2f4483cb63d7d@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKbf0db004690f0940109ece75b89c2d34
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: e610a704a032dd6447445fec7b16c5d0@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5112;branch=z9hG4bK08e6817afb15dc9055567118637a0ab2
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5112;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:5112 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5112;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e610a704a032dd6447445fec7b16c5d0@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5112;branch=z9hG4bK08e6817afb15dc9055567118637a0ab2
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5112;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: e610a704a032dd6447445fec7b16c5d0@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5112;branch=z9hG4bK08e6817afb15dc9055567118637a0ab2
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:5112;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: c5e5298eb0390c66ef3a6dc71a001007@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:12040;branch=z9hG4bK8b72038c7f5c0c60b70f14a21c2b4aa7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:12040;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:bob@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:bob@192.168.0.100:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.0.100:12040 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:bob@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>;expires=3600

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5112;transport=udp>;expires=3600

registered user: "sip:bob@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:12040;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c5e5298eb0390c66ef3a6dc71a001007@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:12040;branch=z9hG4bK8b72038c7f5c0c60b70f14a21c2b4aa7
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:12040;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: c5e5298eb0390c66ef3a6dc71a001007@192.168.0.100
CSeq: 1 REGISTER
From: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:12040;branch=z9hG4bK8b72038c7f5c0c60b70f14a21c2b4aa7
Max-Forwards: 70
Expires: 3600
Contact: "jmaria" <sip:192.168.0.100:12040;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:bob@192.168.0.100:4000

****************************************************
Request INVITE received:
INVITE sip:callee@192.168.0.100:4000 SIP/2.0
Call-ID: 5e9d5e12e050b04bd073ec7d6226ce67@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKd2ef39e0cf483e649672c3fa4e524138
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), target is blocking  the source, 486 (Busy Here) replied:
SIP/2.0 486 Busy here
Call-ID: 5e9d5e12e050b04bd073ec7d6226ce67@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:callee@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKd2ef39e0cf483e649672c3fa4e524138
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:bob@192.168.0.100:4000 SIP/2.0
Call-ID: 0b604d5efe5fe52eae591f078ae1cd28@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK25109c98c03f192a72f77ce63f7b9491
Max-Forwards: 70
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:bob@192.168.0.100:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@9640b79b
dialog =  gov.nist.javax.sip.stack.SIPDialog@17d238f
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.0.100:12040 SIP/2.0
Call-ID: 0b604d5efe5fe52eae591f078ae1cd28@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKfaa81313a0f92247dceb4adbcc177676,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK25109c98c03f192a72f77ce63f7b9491
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.0.100 port:12040 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.0.100:12040 SIP/2.0
Call-ID: 0b604d5efe5fe52eae591f078ae1cd28@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKf0ad29d784e9584c66260288e1bb06cc,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK25109c98c03f192a72f77ce63f7b9491
Max-Forwards: 69
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 149

v=0
o=George 0 0 IN IP4 192.168.0.100
s=-
c=IN IP4 192.168.0.100
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 0b604d5efe5fe52eae591f078ae1cd28@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>;tag=2791204
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKf0ad29d784e9584c66260288e1bb06cc,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK25109c98c03f192a72f77ce63f7b9491
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e1732520
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1e92237
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 0b604d5efe5fe52eae591f078ae1cd28@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>;tag=2791204
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK25109c98c03f192a72f77ce63f7b9491
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 486 Busy here received:
SIP/2.0 486 Busy here
Call-ID: 0b604d5efe5fe52eae591f078ae1cd28@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>;tag=2791204
Via: SIP/2.0/UDP 192.168.0.100:4000;branch=z9hG4bKf0ad29d784e9584c66260288e1bb06cc,SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK25109c98c03f192a72f77ce63f7b9491
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@e1732520
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1e92237
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:2791204
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 486 Busy here
Call-ID: 0b604d5efe5fe52eae591f078ae1cd28@192.168.0.100
CSeq: 1 INVITE
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: <sip:bob@192.168.0.100:4000>;tag=2791204
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bK25109c98c03f192a72f77ce63f7b9491
Max-Forwards: 69
Record-Route: <sip:192.168.0.100:4000>
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 7439dd6d8b6baae430e2f4483cb63d7d@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKe750650b1c95927134f05ed21174a4ae
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:caller@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:caller@192.168.0.100:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:caller@192.168.0.100:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:caller@192.168.0.100:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.0.100:5060 has been removed for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:caller@192.168.0.100:4000"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5112;transport=udp>;expires=3600

registered user: "sip:bob@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:12040;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:caller@192.168.0.100:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:caller@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5112;transport=udp>;expires=3600

registered user: "sip:bob@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:12040;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5112;transport=udp>;expires=3600

registered user: "sip:bob@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:12040;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7439dd6d8b6baae430e2f4483cb63d7d@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKe750650b1c95927134f05ed21174a4ae
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: 7439dd6d8b6baae430e2f4483cb63d7d@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>;tag=2829446
To: "jmaria" <sip:caller@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5060;branch=z9hG4bKe750650b1c95927134f05ed21174a4ae
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:caller@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: c5e5298eb0390c66ef3a6dc71a001007@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:12040;branch=z9hG4bKa76a66490eb0642567ea1e7b20840c6e
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:12040;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:bob@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:bob@192.168.0.100:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:bob@192.168.0.100:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:bob@192.168.0.100:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.0.100:12040 has been removed for the key: sip:bob@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5112;transport=udp>;expires=3600

registered user: "sip:bob@192.168.0.100:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:bob@192.168.0.100:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:bob@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5112;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 
  contact 1 : Contact: "jmaria" <sip:192.168.0.100:5112;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c5e5298eb0390c66ef3a6dc71a001007@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:12040;branch=z9hG4bKa76a66490eb0642567ea1e7b20840c6e
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: c5e5298eb0390c66ef3a6dc71a001007@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:bob@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:12040;branch=z9hG4bKa76a66490eb0642567ea1e7b20840c6e
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:12040;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:bob@192.168.0.100:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: e610a704a032dd6447445fec7b16c5d0@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5112;branch=z9hG4bK9a5d5e1fa6f555a3281cf879c3239ce3
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:5112;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:callee@192.168.0.100:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:callee@192.168.0.100:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:callee@192.168.0.100:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:callee@192.168.0.100:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.0.100:5112 has been removed for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:callee@192.168.0.100:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:callee@192.168.0.100:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:callee@192.168.0.100:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e610a704a032dd6447445fec7b16c5d0@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5112;branch=z9hG4bK9a5d5e1fa6f555a3281cf879c3239ce3
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.0.100:5060;transport=udp SIP/2.0
Call-ID: e610a704a032dd6447445fec7b16c5d0@192.168.0.100
CSeq: 2 REGISTER
From: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>;tag=33135109
To: "jmaria" <sip:callee@192.168.0.100:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.0.100:5112;branch=z9hG4bK9a5d5e1fa6f555a3281cf879c3239ce3
Max-Forwards: 70
Expires: 0
Contact: "jmaria" <sip:192.168.0.100:5112;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:callee@192.168.0.100:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

